import{c as S,f as ea,e as U,g as Ca,h as $a}from"./@babel-6ae3dd9c.js";import{r as t}from"./react-4df190a1.js";import{r as Ma}from"./react-dom-241e1921.js";import{c as Wr,a as G,d as La,u as Na,r as oa,s as wa,e as Sa,f as Ae,i as ra,h as Ta,j as ia,g as aa,k as Ra,l as Wa,m as za,n as Ba}from"./rc-util-723f3f08.js";import{c as Oe}from"./classnames-3f11086c.js";import{R as ba}from"./rc-resize-observer-1f67edaf.js";import"./react-is-e8e5dbb3.js";import{C as Pa}from"./rc-motion-2472bb43.js";var Da=t.createContext(null),ua=[];function xa(e,a){var r=t.useState(function(){if(!Wr())return null;var g=document.createElement("div");return g}),n=S(r,1),o=n[0],u=t.useRef(!1),s=t.useContext(Da),c=t.useState(ua),m=S(c,2),h=m[0],b=m[1],y=s||(u.current?void 0:function(g){b(function(M){var W=[g].concat(ea(M));return W})});function w(){o.parentElement||document.body.appendChild(o),u.current=!0}function v(){var g;(g=o.parentElement)===null||g===void 0||g.removeChild(o),u.current=!1}return G(function(){return e?s?s(w):w():v(),v},[e]),G(function(){h.length&&(h.forEach(function(g){return g()}),b(ua))},[h]),[o,y]}function Ha(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var _a="rc-util-locker-".concat(Date.now()),la=0;function Fa(e){var a=!!e,r=t.useState(function(){return la+=1,"".concat(_a,"_").concat(la)}),n=S(r,1),o=n[0];G(function(){if(a){var u=La(document.body).width,s=Ha();Na(`
html body {
  overflow-y: hidden;
  `.concat(s?"width: calc(100% - ".concat(u,"px);"):"",`
}`),o)}else oa(o);return function(){oa(o)}},[a,o])}var sa=!1;function Va(e){return typeof e=="boolean"&&(sa=e),sa}var va=function(a){return a===!1?!1:!Wr()||!a?null:typeof a=="string"?document.querySelector(a):typeof a=="function"?a():a},Ea=t.forwardRef(function(e,a){var r=e.open,n=e.autoLock,o=e.getContainer;e.debug;var u=e.autoDestroy,s=u===void 0?!0:u,c=e.children,m=t.useState(r),h=S(m,2),b=h[0],y=h[1],w=b||r;t.useEffect(function(){(s||r)&&y(r)},[r,s]);var v=t.useState(function(){return va(o)}),g=S(v,2),M=g[0],W=g[1];t.useEffect(function(){var H=va(o);W(H??null)});var T=xa(w&&!M),l=S(T,2),P=l[0],k=l[1],x=M??P;Fa(n&&r&&Wr()&&(x===P||x===document.body));var j=null;if(c&&wa(c)&&a){var re=c;j=re.ref}var K=Sa(j,a);if(!w||!Wr()||M===void 0)return null;var V=x===!1||Va(),d=c;return a&&(d=t.cloneElement(c,{ref:K})),t.createElement(Da.Provider,{value:k},V?d:Ma.createPortal(d,x))}),ca=t.createContext(null);function fa(e){return e?Array.isArray(e)?e:[e]:[]}function Aa(e,a,r,n){return t.useMemo(function(){var o=fa(r??a),u=fa(n??a),s=new Set(o),c=new Set(u);return e&&(s.has("hover")&&(s.delete("hover"),s.add("click")),c.has("hover")&&(c.delete("hover"),c.add("click"))),[s,c]},[e,a,r,n])}function Ua(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return r?e[0]===a[0]:e[0]===a[0]&&e[1]===a[1]}function qa(e,a,r,n){for(var o=r.points,u=Object.keys(e),s=0;s<u.length;s+=1){var c,m=u[s];if(Ua((c=e[m])===null||c===void 0?void 0:c.points,o,n))return"".concat(a,"-placement-").concat(m)}return""}function da(e,a,r,n){return a||(r?{motionName:"".concat(e,"-").concat(r)}:n?{motionName:n}:null)}function ir(e){return e.ownerDocument.defaultView}function ta(e){for(var a=[],r=e==null?void 0:e.parentElement,n=["hidden","scroll","clip","auto"];r;){var o=ir(r).getComputedStyle(r),u=o.overflowX,s=o.overflowY,c=o.overflow;[u,s,c].some(function(m){return n.includes(m)})&&a.push(r),r=r.parentElement}return a}function or(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(e)?a:e}function nr(e){return or(parseFloat(e),0)}function ma(e,a){var r=U({},e);return(a||[]).forEach(function(n){if(!(n instanceof HTMLBodyElement)){var o=ir(n).getComputedStyle(n),u=o.overflow,s=o.overflowClipMargin,c=o.borderTopWidth,m=o.borderBottomWidth,h=o.borderLeftWidth,b=o.borderRightWidth,y=n.getBoundingClientRect(),w=n.offsetHeight,v=n.clientHeight,g=n.offsetWidth,M=n.clientWidth,W=nr(c),T=nr(m),l=nr(h),P=nr(b),k=or(Math.round(y.width/g*1e3)/1e3),x=or(Math.round(y.height/w*1e3)/1e3),j=(g-M-l-P)*k,re=(w-v-W-T)*x,K=W*x,V=T*x,d=l*k,H=P*k,D=0,ie=0;if(u==="clip"){var ue=nr(s);D=ue*k,ie=ue*x}var le=y.x+d-D,$=y.y+K-ie,ae=le+y.width+2*D-d-H-j,se=$+y.height+2*ie-K-V-re;r.left=Math.max(r.left,le),r.top=Math.max(r.top,$),r.right=Math.min(r.right,ae),r.bottom=Math.min(r.bottom,se)}}),r}function ha(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r="".concat(a),n=r.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(r)}function ga(e,a){var r=a||[],n=S(r,2),o=n[0],u=n[1];return[ha(e.width,o),ha(e.height,u)]}function ya(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[e[0],e[1]]}function Xe(e,a){var r=a[0],n=a[1],o,u;return r==="t"?u=e.y:r==="b"?u=e.y+e.height:u=e.y+e.height/2,n==="l"?o=e.x:n==="r"?o=e.x+e.width:o=e.x+e.width/2,{x:o,y:u}}function Te(e,a){var r={t:"b",b:"t",l:"r",r:"l"};return e.map(function(n,o){return o===a?r[n]||"c":n}).join("")}function Qa(e,a,r,n,o,u,s){var c=t.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:o[n]||{}}),m=S(c,2),h=m[0],b=m[1],y=t.useRef(0),w=t.useMemo(function(){return a?ta(a):[]},[a]),v=t.useRef({}),g=function(){v.current={}};e||g();var M=Ae(function(){if(a&&r&&e){let p=function(kr,ee){var Ze=arguments.length>2&&arguments[2]!==void 0?arguments[2]:we,$r=D.x+kr,Ye=D.y+ee,Lr=$r+q,tr=Ye+te,Nr=Math.max($r,Ze.left),Yr=Math.max(Ye,Ze.top),Xr=Math.min(Lr,Ze.right),Or=Math.min(tr,Ze.bottom);return Math.max(0,(Xr-Nr)*(Or-Yr))},Er=function(){De=D.y+R,Je=De+te,Ee=D.x+z,ke=Ee+q};var l=a,P=l.style.left,k=l.style.top,x=l.style.right,j=l.style.bottom,re=l.ownerDocument,K=ir(l),V=U(U({},o[n]),u);l.style.left="0",l.style.top="0",l.style.right="auto",l.style.bottom="auto";var d;if(Array.isArray(r))d={x:r[0],y:r[1],width:0,height:0};else{var H=r.getBoundingClientRect();d={x:H.x,y:H.y,width:H.width,height:H.height}}var D=l.getBoundingClientRect(),ie=K.getComputedStyle(l),ue=ie.width,le=ie.height,$=re.documentElement,ae=$.clientWidth,se=$.clientHeight,Ue=$.scrollWidth,Me=$.scrollHeight,Z=$.scrollTop,qe=$.scrollLeft,te=D.height,q=D.width,he=d.height,Q=d.width,I={left:0,top:0,right:ae,bottom:se},Qe={left:-qe,top:-Z,right:Ue-qe,bottom:Me-Z},ne=V.htmlRegion,Re="visible",We="visibleFirst";ne!=="scroll"&&ne!==We&&(ne=Re);var ge=ne===We,Y=ma(Qe,w),C=ma(I,w),we=ne===Re?C:Y,X=ge?C:we;l.style.left="auto",l.style.top="auto",l.style.right="0",l.style.bottom="0";var ve=l.getBoundingClientRect();l.style.left=P,l.style.top=k,l.style.right=x,l.style.bottom=j;var ye=or(Math.round(q/parseFloat(ue)*1e3)/1e3),ce=or(Math.round(te/parseFloat(le)*1e3)/1e3);if(ye===0||ce===0||ra(r)&&!Ta(r))return;var Ce=V.offset,zr=V.targetOffset,Br=ga(D,Ce),ur=S(Br,2),O=ur[0],B=ur[1],xr=ga(d,zr),lr=S(xr,2),Hr=lr[0],sr=lr[1];d.x-=Hr,d.y-=sr;var Se=V.points||[],vr=S(Se,2),_r=vr[0],je=vr[1],_=ya(je),F=ya(_r),cr=Xe(d,_),fr=Xe(D,F),be=U({},V),z=cr.x-fr.x+O,R=cr.y-fr.y+B,fe=p(z,R),ze=p(z,R,C),A=Xe(d,["t","l"]),dr=Xe(D,["t","l"]),Pe=Xe(d,["b","r"]),pe=Xe(D,["b","r"]),Be=V.overflow||{},mr=Be.adjustX,oe=Be.adjustY,hr=Be.shiftX,er=Be.shiftY,Ie=function(ee){return typeof ee=="boolean"?ee:ee>=0},De,Je,Ee,ke;Er();var rr=Ie(oe),gr=F[0]===_[0];if(rr&&F[0]==="t"&&(Je>X.bottom||v.current.bt)){var $e=R;gr?$e-=te-he:$e=A.y-pe.y-B;var ar=p(z,$e),Fr=p(z,$e,C);ar>fe||ar===fe&&(!ge||Fr>=ze)?(v.current.bt=!0,R=$e,B=-B,be.points=[Te(F,0),Te(_,0)]):v.current.bt=!1}if(rr&&F[0]==="b"&&(De<X.top||v.current.tb)){var de=R;gr?de+=te-he:de=Pe.y-dr.y-B;var yr=p(z,de),J=p(z,de,C);yr>fe||yr===fe&&(!ge||J>=ze)?(v.current.tb=!0,R=de,B=-B,be.points=[Te(F,0),Te(_,0)]):v.current.tb=!1}var Cr=Ie(mr),Mr=F[1]===_[1];if(Cr&&F[1]==="l"&&(ke>X.right||v.current.rl)){var xe=z;Mr?xe-=q-Q:xe=A.x-pe.x-O;var wr=p(xe,R),Vr=p(xe,R,C);wr>fe||wr===fe&&(!ge||Vr>=ze)?(v.current.rl=!0,z=xe,O=-O,be.points=[Te(F,1),Te(_,1)]):v.current.rl=!1}if(Cr&&F[1]==="r"&&(Ee<X.left||v.current.lr)){var He=z;Mr?He+=q-Q:He=Pe.x-dr.x-O;var Sr=p(He,R),Ar=p(He,R,C);Sr>fe||Sr===fe&&(!ge||Ar>=ze)?(v.current.lr=!0,z=He,O=-O,be.points=[Te(F,1),Te(_,1)]):v.current.lr=!1}Er();var _e=hr===!0?0:hr;typeof _e=="number"&&(Ee<C.left&&(z-=Ee-C.left-O,d.x+Q<C.left+_e&&(z+=d.x-C.left+Q-_e)),ke>C.right&&(z-=ke-C.right-O,d.x>C.right-_e&&(z+=d.x-C.right+_e)));var me=er===!0?0:er;typeof me=="number"&&(De<C.top&&(R-=De-C.top-B,d.y+he<C.top+me&&(R+=d.y-C.top+he-me)),Je>C.bottom&&(R-=Je-C.bottom-B,d.y>C.bottom-me&&(R+=d.y-C.bottom+me)));var Fe=D.x+z,Ur=Fe+q,Ge=D.y+R,Ke=Ge+te,Le=d.x,br=Le+Q,Ve=d.y,Ne=Ve+he,qr=Math.max(Fe,Le),Qr=Math.min(Ur,br),jr=(qr+Qr)/2,Ir=jr-Fe,Jr=Math.max(Ge,Ve),Pr=Math.min(Ke,Ne),Gr=(Jr+Pr)/2,Kr=Gr-Ge;s==null||s(a,be);var Zr=ve.right-D.x-(z+D.width),Dr=ve.bottom-D.y-(R+D.height);b({ready:!0,offsetX:z/ye,offsetY:R/ce,offsetR:Zr/ye,offsetB:Dr/ce,arrowX:Ir/ye,arrowY:Kr/ce,scaleX:ye,scaleY:ce,align:be})}}),W=function(){y.current+=1;var P=y.current;Promise.resolve().then(function(){y.current===P&&M()})},T=function(){b(function(P){return U(U({},P),{},{ready:!1})})};return G(T,[n]),G(function(){e||T()},[e]),[h.ready,h.offsetX,h.offsetY,h.offsetR,h.offsetB,h.arrowX,h.arrowY,h.scaleX,h.scaleY,h.align,W]}function ja(e,a,r,n,o){G(function(){if(e&&a&&r){let y=function(){n(),o()};var u=a,s=r,c=ta(u),m=ta(s),h=ir(s),b=new Set([h].concat(ea(c),ea(m)));return b.forEach(function(w){w.addEventListener("scroll",y,{passive:!0})}),h.addEventListener("resize",y,{passive:!0}),n(),function(){b.forEach(function(w){w.removeEventListener("scroll",y),h.removeEventListener("resize",y)})}}},[e,a,r])}function Ia(e,a,r,n,o,u,s,c){var m=t.useRef(e),h=t.useRef(!1);m.current!==e&&(h.current=!0,m.current=e),t.useEffect(function(){var b=ia(function(){h.current=!1});return function(){ia.cancel(b)}},[e]),t.useEffect(function(){if(a&&n&&(!o||u)){var b=function(){var j=!1,re=function(d){var H=d.target;j=s(H)},K=function(d){var H=d.target;!h.current&&m.current&&!j&&!s(H)&&c(!1)};return[re,K]},y=b(),w=S(y,2),v=w[0],g=w[1],M=b(),W=S(M,2),T=W[0],l=W[1],P=ir(n);P.addEventListener("mousedown",v,!0),P.addEventListener("click",g,!0),P.addEventListener("contextmenu",g,!0);var k=aa(r);return k&&(k.addEventListener("mousedown",T,!0),k.addEventListener("click",l,!0),k.addEventListener("contextmenu",l,!0)),function(){P.removeEventListener("mousedown",v,!0),P.removeEventListener("click",g,!0),P.removeEventListener("contextmenu",g,!0),k&&(k.removeEventListener("mousedown",T,!0),k.removeEventListener("click",l,!0),k.removeEventListener("contextmenu",l,!0))}}},[a,r,n,o,u])}function Ja(e){var a=e.prefixCls,r=e.align,n=e.arrow,o=e.arrowPos,u=n||{},s=u.className,c=u.content,m=o.x,h=m===void 0?0:m,b=o.y,y=b===void 0?0:b,w=t.useRef();if(!r||!r.points)return null;var v={position:"absolute"};if(r.autoArrow!==!1){var g=r.points[0],M=r.points[1],W=g[0],T=g[1],l=M[0],P=M[1];W===l||!["t","b"].includes(W)?v.top=y:W==="t"?v.top=0:v.bottom=0,T===P||!["l","r"].includes(T)?v.left=h:T==="l"?v.left=0:v.right=0}return t.createElement("div",{ref:w,className:Oe("".concat(a,"-arrow"),s),style:v},c)}function Ga(e){var a=e.prefixCls,r=e.open,n=e.zIndex,o=e.mask,u=e.motion;return o?t.createElement(Pa,Ca({},u,{motionAppear:!0,visible:r,removeOnLeave:!0}),function(s){var c=s.className;return t.createElement("div",{style:{zIndex:n},className:Oe("".concat(a,"-mask"),c)})}):null}var Ka=t.memo(function(e){var a=e.children;return a},function(e,a){return a.cache}),Za=t.forwardRef(function(e,a){var r=e.popup,n=e.className,o=e.prefixCls,u=e.style,s=e.target,c=e.onVisibleChanged,m=e.open,h=e.keepDom,b=e.onClick,y=e.mask,w=e.arrow,v=e.arrowPos,g=e.align,M=e.motion,W=e.maskMotion,T=e.forceRender,l=e.getPopupContainer,P=e.autoDestroy,k=e.portal,x=e.zIndex,j=e.onMouseEnter,re=e.onMouseLeave,K=e.onPointerEnter,V=e.ready,d=e.offsetX,H=e.offsetY,D=e.offsetR,ie=e.offsetB,ue=e.onAlign,le=e.onPrepare,$=e.stretch,ae=e.targetWidth,se=e.targetHeight,Ue=typeof r=="function"?r():r,Me=m||h,Z=(l==null?void 0:l.length)>0,qe=t.useState(!l||!Z),te=S(qe,2),q=te[0],he=te[1];if(G(function(){!q&&Z&&s&&he(!0)},[q,Z,s]),!q)return null;var Q="auto",I={left:"-1000vw",top:"-1000vh",right:Q,bottom:Q};if(V||!m){var Qe=g.points,ne=g._experimental,Re=ne==null?void 0:ne.dynamicInset,We=Re&&Qe[0][1]==="r",ge=Re&&Qe[0][0]==="b";We?(I.right=D,I.left=Q):(I.left=d,I.right=Q),ge?(I.bottom=ie,I.top=Q):(I.top=H,I.bottom=Q)}var Y={};return $&&($.includes("height")&&se?Y.height=se:$.includes("minHeight")&&se&&(Y.minHeight=se),$.includes("width")&&ae?Y.width=ae:$.includes("minWidth")&&ae&&(Y.minWidth=ae)),m||(Y.pointerEvents="none"),t.createElement(k,{open:T||Me,getContainer:l&&function(){return l(s)},autoDestroy:P},t.createElement(Ga,{prefixCls:o,open:m,zIndex:x,mask:y,motion:W}),t.createElement(ba,{onResize:ue,disabled:!m},function(C){return t.createElement(Pa,Ca({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:T,leavedClassName:"".concat(o,"-hidden")},M,{onAppearPrepare:le,onEnterPrepare:le,visible:m,onVisibleChanged:function(X){var ve;M==null||(ve=M.onVisibleChanged)===null||ve===void 0||ve.call(M,X),c(X)}}),function(we,X){var ve=we.className,ye=we.style,ce=Oe(o,ve,n);return t.createElement("div",{ref:Ra(C,a,X),className:ce,style:U(U(U(U({"--arrow-x":"".concat(v.x||0,"px"),"--arrow-y":"".concat(v.y||0,"px")},I),Y),ye),{},{boxSizing:"border-box",zIndex:x},u),onMouseEnter:j,onMouseLeave:re,onPointerEnter:K,onClick:b},w&&t.createElement(Ja,{prefixCls:o,arrow:w,arrowPos:v,align:g}),t.createElement(Ka,{cache:!m},Ue))})}))}),Ya=t.forwardRef(function(e,a){var r=e.children,n=e.getTriggerDOMNode,o=wa(r),u=t.useCallback(function(c){Wa(a,n?n(c):c)},[n]),s=Sa(u,r.ref);return o?t.cloneElement(r,{ref:s}):r}),Xa=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function Oa(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ea,a=t.forwardRef(function(r,n){var o=r.prefixCls,u=o===void 0?"rc-trigger-popup":o,s=r.children,c=r.action,m=c===void 0?"hover":c,h=r.showAction,b=r.hideAction,y=r.popupVisible,w=r.defaultPopupVisible,v=r.onPopupVisibleChange,g=r.afterPopupVisibleChange,M=r.mouseEnterDelay,W=r.mouseLeaveDelay,T=W===void 0?.1:W,l=r.focusDelay,P=r.blurDelay,k=r.mask,x=r.maskClosable,j=x===void 0?!0:x,re=r.getPopupContainer,K=r.forceRender,V=r.autoDestroy,d=r.destroyPopupOnHide,H=r.popup,D=r.popupClassName,ie=r.popupStyle,ue=r.popupPlacement,le=r.builtinPlacements,$=le===void 0?{}:le,ae=r.popupAlign,se=r.zIndex,Ue=r.stretch,Me=r.getPopupClassNameFromAlign,Z=r.alignPoint,qe=r.onPopupClick,te=r.onPopupAlign,q=r.arrow,he=r.popupMotion,Q=r.maskMotion,I=r.popupTransitionName,Qe=r.popupAnimation,ne=r.maskTransitionName,Re=r.maskAnimation,We=r.className,ge=r.getTriggerDOMNode,Y=$a(r,Xa),C=V||d||!1,we=t.useState(!1),X=S(we,2),ve=X[0],ye=X[1];G(function(){ye(za())},[]);var ce=t.useRef({}),Ce=t.useContext(ca),zr=t.useMemo(function(){return{registerSubPopup:function(f,E){ce.current[f]=E,Ce==null||Ce.registerSubPopup(f,E)}}},[Ce]),Br=Ba(),ur=t.useState(null),O=S(ur,2),B=O[0],xr=O[1],lr=Ae(function(i){ra(i)&&B!==i&&xr(i),Ce==null||Ce.registerSubPopup(Br,i)}),Hr=t.useState(null),sr=S(Hr,2),Se=sr[0],vr=sr[1],_r=Ae(function(i){ra(i)&&Se!==i&&vr(i)}),je=t.Children.only(s),_=(je==null?void 0:je.props)||{},F={},cr=Ae(function(i){var f,E,L=Se;return(L==null?void 0:L.contains(i))||((f=aa(L))===null||f===void 0?void 0:f.host)===i||i===L||(B==null?void 0:B.contains(i))||((E=aa(B))===null||E===void 0?void 0:E.host)===i||i===B||Object.values(ce.current).some(function(N){return(N==null?void 0:N.contains(i))||i===N})}),fr=da(u,he,Qe,I),be=da(u,Q,Re,ne),z=t.useState(w||!1),R=S(z,2),fe=R[0],ze=R[1],A=y??fe,dr=Ae(function(i){y===void 0&&ze(i)});G(function(){ze(y||!1)},[y]);var Pe=t.useRef(A);Pe.current=A;var pe=Ae(function(i){Ma.flushSync(function(){A!==i&&(dr(i),v==null||v(i))})}),Be=t.useRef(),mr=function(){clearTimeout(Be.current)},oe=function(f){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;mr(),E===0?pe(f):Be.current=setTimeout(function(){pe(f)},E*1e3)};t.useEffect(function(){return mr},[]);var hr=t.useState(!1),er=S(hr,2),Ie=er[0],De=er[1];G(function(i){(!i||A)&&De(!0)},[A]);var Je=t.useState(null),Ee=S(Je,2),ke=Ee[0],rr=Ee[1],gr=t.useState([0,0]),$e=S(gr,2),ar=$e[0],Fr=$e[1],de=function(f){Fr([f.clientX,f.clientY])},yr=Qa(A,B,Z?ar:Se,ue,$,ae,te),J=S(yr,11),Cr=J[0],Mr=J[1],xe=J[2],wr=J[3],Vr=J[4],He=J[5],Sr=J[6],Ar=J[7],_e=J[8],me=J[9],Fe=J[10],Ur=Aa(ve,m,h,b),Ge=S(Ur,2),Ke=Ge[0],Le=Ge[1],br=Ke.has("click"),Ve=Le.has("click")||Le.has("contextMenu"),Ne=Ae(function(){Ie||Fe()}),qr=function(){Pe.current&&Z&&Ve&&oe(!1)};ja(A,Se,B,Ne,qr),G(function(){Ne()},[ar,ue]),G(function(){A&&!($!=null&&$[ue])&&Ne()},[JSON.stringify(ae)]);var Qr=t.useMemo(function(){var i=qa($,u,me,Z);return Oe(i,Me==null?void 0:Me(me))},[me,Me,$,u,Z]);t.useImperativeHandle(n,function(){return{forceAlign:Ne}});var jr=function(f){De(!1),Fe(),g==null||g(f)},Ir=function(){return new Promise(function(f){rr(function(){return f})})};G(function(){ke&&(Fe(),ke(),rr(null))},[ke]);var Jr=t.useState(0),Pr=S(Jr,2),Gr=Pr[0],Kr=Pr[1],Zr=t.useState(0),Dr=S(Zr,2),p=Dr[0],Er=Dr[1],kr=function(f,E){if(Ne(),Ue){var L=E.getBoundingClientRect();Kr(L.width),Er(L.height)}};function ee(i,f,E,L){F[i]=function(N){var Tr;L==null||L(N),oe(f,E);for(var pr=arguments.length,na=new Array(pr>1?pr-1:0),Rr=1;Rr<pr;Rr++)na[Rr-1]=arguments[Rr];(Tr=_[i])===null||Tr===void 0||Tr.call.apply(Tr,[_,N].concat(na))}}(br||Ve)&&(F.onClick=function(i){var f;Pe.current&&Ve?oe(!1):!Pe.current&&br&&(de(i),oe(!0));for(var E=arguments.length,L=new Array(E>1?E-1:0),N=1;N<E;N++)L[N-1]=arguments[N];(f=_.onClick)===null||f===void 0||f.call.apply(f,[_,i].concat(L))}),Ia(A,Ve,Se,B,k,j,cr,oe);var Ze=Ke.has("hover"),$r=Le.has("hover"),Ye,Lr;Ze&&(ee("onMouseEnter",!0,M,function(i){de(i)}),ee("onPointerEnter",!0,M,function(i){de(i)}),Ye=function(){(A||Ie)&&oe(!0,M)},Z&&(F.onMouseMove=function(i){var f;(f=_.onMouseMove)===null||f===void 0||f.call(_,i)})),$r&&(ee("onMouseLeave",!1,T),ee("onPointerLeave",!1,T),Lr=function(){oe(!1,T)}),Ke.has("focus")&&ee("onFocus",!0,l),Le.has("focus")&&ee("onBlur",!1,P),Ke.has("contextMenu")&&(F.onContextMenu=function(i){var f;Pe.current&&Le.has("contextMenu")?oe(!1):(de(i),oe(!0)),i.preventDefault();for(var E=arguments.length,L=new Array(E>1?E-1:0),N=1;N<E;N++)L[N-1]=arguments[N];(f=_.onContextMenu)===null||f===void 0||f.call.apply(f,[_,i].concat(L))}),We&&(F.className=Oe(_.className,We));var tr=U(U({},_),F),Nr={},Yr=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Yr.forEach(function(i){Y[i]&&(Nr[i]=function(){for(var f,E=arguments.length,L=new Array(E),N=0;N<E;N++)L[N]=arguments[N];(f=tr[i])===null||f===void 0||f.call.apply(f,[tr].concat(L)),Y[i].apply(Y,L)})});var Xr=t.cloneElement(je,U(U({},tr),Nr)),Or={x:He,y:Sr},ka=q?U({},q!==!0?q:{}):null;return t.createElement(t.Fragment,null,t.createElement(ba,{disabled:!A,ref:_r,onResize:kr},t.createElement(Ya,{getTriggerDOMNode:ge},Xr)),t.createElement(ca.Provider,{value:zr},t.createElement(Za,{portal:e,ref:lr,prefixCls:u,popup:H,className:Oe(D,Qr),style:ie,target:Se,onMouseEnter:Ye,onMouseLeave:Lr,onPointerEnter:Ye,zIndex:se,open:A,keepDom:Ie,onClick:qe,mask:k,motion:fr,maskMotion:be,onVisibleChanged:jr,onPrepare:Ir,forceRender:K,autoDestroy:C,getPopupContainer:re,align:me,arrow:ka,arrowPos:Or,ready:Cr,offsetX:Mr,offsetY:xe,offsetR:wr,offsetB:Vr,onAlign:Ne,stretch:Ue,targetWidth:Gr/Ar,targetHeight:p/_e})))});return a}const ut=Oa(Ea);export{ut as T};
