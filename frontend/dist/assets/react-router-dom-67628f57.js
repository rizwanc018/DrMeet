import{r as l,R as B}from"./react-4df190a1.js";import{R as F,N as x,u as _,a as A,b as C,c as O,D as W}from"./react-router-1d7e2545.js";import{c as K,s as D,b as U}from"./@remix-run-d753ad9e.js";/**
 * React Router DOM v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},L.apply(this,arguments)}function T(e,t){if(e==null)return{};var a={},r=Object.keys(e),n,o;for(o=0;o<r.length;o++)n=r[o],!(t.indexOf(n)>=0)&&(a[n]=e[n]);return a}function z(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function H(e,t){return e.button===0&&(!t||t==="_self")&&!z(e)}function b(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,a)=>{let r=e[a];return t.concat(Array.isArray(r)?r.map(n=>[a,n]):[[a,r]])},[]))}function I(e,t){let a=b(e);return t&&t.forEach((r,n)=>{a.has(n)||t.getAll(n).forEach(o=>{a.append(n,o)})}),a}const M=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],G=["aria-current","caseSensitive","className","end","style","to","children"],X="startTransition",E=B[X];function ee(e){let{basename:t,children:a,future:r,window:n}=e,o=l.useRef();o.current==null&&(o.current=K({window:n,v5Compat:!0}));let i=o.current,[c,u]=l.useState({action:i.action,location:i.location}),{v7_startTransition:s}=r||{},h=l.useCallback(p=>{s&&E?E(()=>u(p)):u(p)},[u,s]);return l.useLayoutEffect(()=>i.listen(h),[i,h]),l.createElement(F,{basename:t,children:a,location:c.location,navigationType:c.action,navigator:i})}const q=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",J=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Q=l.forwardRef(function(t,a){let{onClick:r,relative:n,reloadDocument:o,replace:i,state:c,target:u,to:s,preventScrollReset:h}=t,p=T(t,M),{basename:w}=l.useContext(x),g,y=!1;if(typeof s=="string"&&J.test(s)&&(g=s,q))try{let f=new URL(window.location.href),v=s.startsWith("//")?new URL(f.protocol+s):new URL(s),S=D(v.pathname,w);v.origin===f.origin&&S!=null?s=S+v.search+v.hash:y=!0}catch{}let m=_(s,{relative:n}),R=V(s,{replace:i,state:c,target:u,preventScrollReset:h,relative:n});function d(f){r&&r(f),f.defaultPrevented||R(f)}return l.createElement("a",L({},p,{href:g||m,onClick:y||o?r:d,ref:a,target:u}))}),te=l.forwardRef(function(t,a){let{"aria-current":r="page",caseSensitive:n=!1,className:o="",end:i=!1,style:c,to:u,children:s}=t,h=T(t,G),p=O(u,{relative:h.relative}),w=C(),g=l.useContext(W),{navigator:y}=l.useContext(x),m=y.encodeLocation?y.encodeLocation(p).pathname:p.pathname,R=w.pathname,d=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(R=R.toLowerCase(),d=d?d.toLowerCase():null,m=m.toLowerCase());let f=R===m||!i&&R.startsWith(m)&&R.charAt(m.length)==="/",v=d!=null&&(d===m||!i&&d.startsWith(m)&&d.charAt(m.length)==="/"),S=f?r:void 0,P;typeof o=="function"?P=o({isActive:f,isPending:v}):P=[o,f?"active":null,v?"pending":null].filter(Boolean).join(" ");let j=typeof c=="function"?c({isActive:f,isPending:v}):c;return l.createElement(Q,L({},h,{"aria-current":S,className:P,ref:a,style:j,to:u}),typeof s=="function"?s({isActive:f,isPending:v}):s)});var N;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(N||(N={}));var k;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(k||(k={}));function V(e,t){let{target:a,replace:r,state:n,preventScrollReset:o,relative:i}=t===void 0?{}:t,c=A(),u=C(),s=O(e,{relative:i});return l.useCallback(h=>{if(H(h,a)){h.preventDefault();let p=r!==void 0?r:U(u)===U(s);c(e,{replace:p,state:n,preventScrollReset:o,relative:i})}},[u,c,s,r,n,a,e,o,i])}function ae(e){let t=l.useRef(b(e)),a=l.useRef(!1),r=C(),n=l.useMemo(()=>I(r.search,a.current?null:t.current),[r.search]),o=A(),i=l.useCallback((c,u)=>{const s=b(typeof c=="function"?c(n):c);a.current=!0,o("?"+s,u)},[o,n]);return[n,i]}export{ee as B,Q as L,te as N,ae as u};
